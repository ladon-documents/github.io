"use strict";(self.webpackChunkladon_docu=self.webpackChunkladon_docu||[]).push([[5816],{15680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>g});var a=t(96540);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,s=function(e,n){if(null==e)return{};var t,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var c=a.createContext({}),i=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},d=function(e){var n=i(e.components);return a.createElement(c.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},y=a.forwardRef((function(e,n){var t=e.components,s=e.mdxType,o=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=i(t),y=s,g=p["".concat(c,".").concat(y)]||p[y]||u[y]||o;return t?a.createElement(g,r(r({ref:n},d),{},{components:t})):a.createElement(g,r({ref:n},d))}));function g(e,n){var t=arguments,s=n&&n.mdxType;if("string"==typeof e||s){var o=t.length,r=new Array(o);r[0]=y;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[p]="string"==typeof e?e:s,r[1]=l;for(var i=2;i<o;i++)r[i]=t[i];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}y.displayName="MDXCreateElement"},64260:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>i});var a=t(58168),s=(t(96540),t(15680));const o={},r="Websocket API",l={unversionedId:"Websocket API/intro",id:"Websocket API/intro",title:"Websocket API",description:"Live updates are developed using the Websockets API.",source:"@site/docs/Websocket API/intro.md",sourceDirName:"Websocket API",slug:"/Websocket API/intro",permalink:"/build/docs/Websocket API/intro",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Websocket API/intro.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Dynamic Json Document Rest API",permalink:"/build/docs/Rest API highlights/Dynamic Rest API"}},c={},i=[{value:"ldn.docs.action.list",id:"ldndocsactionlist",level:3},{value:"Description",id:"description",level:4},{value:"Request",id:"request",level:4},{value:"Response",id:"response",level:4},{value:"ldn.docs.action.create",id:"ldndocsactioncreate",level:3},{value:"Description",id:"description-1",level:4},{value:"Request",id:"request-1",level:4},{value:"Response",id:"response-1",level:4},{value:"ldn.tasks.action.start",id:"ldntasksactionstart",level:3},{value:"Description",id:"description-2",level:4},{value:"Request",id:"request-2",level:4},{value:"Response",id:"response-2",level:4},{value:"ldn.tasks.action.cancel",id:"ldntasksactioncancel",level:3},{value:"Description",id:"description-3",level:4},{value:"Request",id:"request-3",level:4},{value:"Response",id:"response-3",level:4},{value:"ldn.tasks.action.list",id:"ldntasksactionlist",level:3},{value:"Description",id:"description-4",level:4},{value:"Request",id:"request-4",level:4},{value:"Response",id:"response-4",level:4}],d={toc:i},p="wrapper";function u(e){let{components:n,...t}=e;return(0,s.yg)(p,(0,a.A)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,s.yg)("h1",{id:"websocket-api"},"Websocket API"),(0,s.yg)("p",null,"Live updates are developed using the Websockets API."),(0,s.yg)("p",null,"Updates can be invoked by the frontend as well as the backend. The concept is that live updates are sent by the backend\ncontinuously to connected frontend clients and initial state is requested after connect of a new client."),(0,s.yg)("p",null,"To handle different events and messages each message contains a separate selector field and the payload."),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.docs.action.list"\n}\n')),(0,s.yg)("ul",null,(0,s.yg)("li",{parentName:"ul"},"ldn - ladon namespace"),(0,s.yg)("li",{parentName:"ul"},"docs - message about documents"),(0,s.yg)("li",{parentName:"ul"},"action - action request from the frontend"),(0,s.yg)("li",{parentName:"ul"},"list - name of requested action - list all documents")),(0,s.yg)("h1",{id:"document-selectors"},"Document Selectors"),(0,s.yg)("h3",{id:"ldndocsactionlist"},"ldn.docs.action.list"),(0,s.yg)("h4",{id:"description"},"Description"),(0,s.yg)("p",null,"Initialize or load a document view"),(0,s.yg)("h4",{id:"request"},"Request"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.docs.action.list",\n  "payload": "/mydocs/"\n}\n')),(0,s.yg)("h4",{id:"response"},"Response"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.docs.added",\n  "payload": {\n    "content-type": "application/json",\n    "created": "2023-01-01T00:00:00",\n    "last-modified": "2023-01-01T00:00",\n    "bucket": "mydocs",\n    "key": "config/",\n    "path": "/mydocs/config/",\n    "etag": "",\n    "metadata": {},\n    "owner": "admin",\n    "size": 0,\n    "version": "none"\n  }\n}\n')),(0,s.yg)("h3",{id:"ldndocsactioncreate"},"ldn.docs.action.create"),(0,s.yg)("h4",{id:"description-1"},"Description"),(0,s.yg)("p",null,"Create a new document or folder"),(0,s.yg)("h4",{id:"request-1"},"Request"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.docs.action.create",\n  "payload": "/mydocs/test.txt"\n}\n')),(0,s.yg)("p",null,'Note: Merih, ich glaube hier haben wir noch ein Object mit key "path". Soll das so?'),(0,s.yg)("h4",{id:"response-1"},"Response"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.docs.added",\n  "payload": {\n    "content-type": "application/json",\n    "created": "2023-01-01T00:00:00",\n    "last-modified": "2023-01-01T00:00",\n    "bucket": "mydocs",\n    "key": "test.txt",\n    "path": "/mydocs/test.txt",\n    "etag": "34ABD454",\n    "metadata": {},\n    "owner": "admin",\n    "size": 0,\n    "version": "none"\n  }\n}\n')),(0,s.yg)("h1",{id:"task-selectors"},"Task Selectors"),(0,s.yg)("h3",{id:"ldntasksactionstart"},"ldn.tasks.action.start"),(0,s.yg)("h4",{id:"description-2"},"Description"),(0,s.yg)("p",null,"Start a new task"),(0,s.yg)("h4",{id:"request-2"},"Request"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.tasks.action.start",\n  "payload": {\n    "context": "documents",\n    "task-name": "Ladon Copy",\n    "params" : {\n      "sources": ["/mydocs/"],\n      "target": "/mydocs2/"\n    }\n  }\n}\n')),(0,s.yg)("h4",{id:"response-2"},"Response"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.tasks.added",\n  "payload":{\n    "uid": "958def24-2d91-47e0-a9b7-badac2510f3c",\n    "context" : "documents",\n    "task-name": "Ladon Copy Documents",\n    "state": "running",\n    "progress": 34,\n    "eta": 46\n  }\n}\n')),(0,s.yg)("h3",{id:"ldntasksactioncancel"},"ldn.tasks.action.cancel"),(0,s.yg)("h4",{id:"description-3"},"Description"),(0,s.yg)("p",null,"Cancel a task"),(0,s.yg)("h4",{id:"request-3"},"Request"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.tasks.action.cancel",\n  "payload":  "958def24-2d91-47e0-a9b7-badac2510f3c"\n}\n')),(0,s.yg)("h4",{id:"response-3"},"Response"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.tasks.added",\n  "payload":{\n    "uid": "958def24-2d91-47e0-a9b7-badac2510f3c",\n    "context" : "documents",\n    "task-name": "Ladon Copy Documents",\n    "state": "canceled",\n    "progress": 34,\n    "eta": 0\n  }\n}\n')),(0,s.yg)("h3",{id:"ldntasksactionlist"},"ldn.tasks.action.list"),(0,s.yg)("h4",{id:"description-4"},"Description"),(0,s.yg)("p",null,"List current tasks"),(0,s.yg)("h4",{id:"request-4"},"Request"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.tasks.action.list",\n  "payload": "documents"\n}\n')),(0,s.yg)("h4",{id:"response-4"},"Response"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "selector": "ldn.tasks.added",\n  "payload":{\n    "uid": "958def24-2d91-47e0-a9b7-badac2510f3c",\n    "context" : "documents",\n    "task-name": "Ladon Copy Documents",\n    "state": "running",\n    "progress": 34,\n    "eta": 46\n  }\n}\n')))}u.isMDXComponent=!0}}]);